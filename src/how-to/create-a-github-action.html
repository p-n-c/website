<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="How to create a GitHub action using a workflow and a repository secret"
    />
    <link rel="stylesheet" href="/src/styles/common.css" />
    <title>How to create a GitHub action</title>
    <link rel="icon" type="image/x-icon" href="/src/media/favicon.ico" />
  </head>
  <body class="body">
    <header>
      <div class="header-text">
        <h1>Create a GitHub action</h1>
      </div>
    </header>
    <main class="main">
      <div class="byline">
        <img
          class="byline-logo"
          src="/src/media/pac-logo.svg"
          alt="People and code logo."
        />
        <div>
          <div class="byline-brand">People and Code</div>
          <div class="byline-tagline">At Your Disposal</div>
        </div>
      </div>
      <article>
        <section aria-labelledby="pull-requests">
          <h2 id="pull-requests">Pull requests</h2>
          <p>
            <em>Task</em>: create a GitHub action which automatically assigns a
            new pull request (PR) to its author and creates a list of potential
            reviewers from a permitted list.
          </p>
          <p>
            <em>Note</em>: the examples link to the People and Code repository
            for this website and are not public.
          </p>
          <section aria-labelledby="auto-assign">
            <h3 id="auto-assign">Auto assign</h3>
            <p>
              This action uses
              <a
                href="https://github.com/marketplace/actions/auto-assign-action"
                >Auto Assign Action</a
              >
            </p>
            <blockquote>
              <p>
                An action which adds reviewers to the pull request when the pull
                request is opened.
              </p>
            </blockquote>
            <p>
              To create a list of accepted reviewers and auto-assign PRs to
              their author:
            </p>
            <ol>
              <li>
                Create a
                <a
                  class="local"
                  href="/src/how-to/create-a-github-repository-secret.html"
                  >repository secret</a
                >
                called <code>ASSIGN_REVIEWERS</code>
              </li>
              <li>Go to <code>~/actions</code></li>
              <li>Click on "New workflow"</li>
              <li>Click on "set up a workflow for yourself"</li>
              <li>
                Create two yml files. See
                <a
                  href="https://github.com/marketplace/actions/auto-assign-action"
                  >Auto Assign Action</a
                >
                for yml specifics.
                <ol>
                  <li>
                    Create <code>actions.yml</code> under
                    <code>~/.github/workflow</code>
                  </li>
                  <li>
                    <code>auto_assign.yml</code> under <code>~/.github</code>
                  </li>
                </ol>
              </li>
              <li>
                In order that the workflow has the correct permissions, add this
                line to the end of the <code>actions.yml</code> file:
                <div>
                  <code>repo-token: ${{ secrets.ASSIGN_REVIEWERS }}</code>
                </div>
                <div>
                  The <code>repo-token</code> must match the repository secret
                  you created.
                </div>
              </li>
            </ol>
            <p>
              <em>Outcome</em>: When a PR is made, the author is assigned and a
              list of reviewers is generated. In our case (People and Code), the
              reviewer is automatically assigned because there is only one
              reviewer on the list who is not the author.
            </p>
            <section aria-labelledby="review-auto-assign">
              <h4 id="review-auto-assign">Review auto assign</h4>
              <p>To review or edit this action:</p>
              <ol>
                <li>
                  Go to your repo <code>~/website</code>
                  <div>
                    e.g.
                    <a href="https://github.com/p-n-c/website">website repo</a>
                  </div>
                </li>
                <li>
                  Select the actions tab
                  <code>~/website/actions</code>
                  <div>
                    e.g.
                    <a href="https://github.com/p-n-c/website/actions"
                      >actions tab</a
                    >
                  </div>
                </li>
                <li>
                  Click on workflow action in the "All workflows" panel
                  <code>~/actions/workflows/actions.yml</code>
                  <div>
                    e.g.
                    <a
                      href="https://github.com/p-n-c/website/actions/workflows/actions.yml"
                      >Auto Assign</a
                    >
                  </div>
                </li>
                <li>
                  Click on the <code>actions.yml</code> link below the Auto
                  Assign title
                  <div>
                    e.g.
                    <a
                      href="https://github.com/p-n-c/website/blob/main/.github/workflows/actions.yml"
                      >actions.yml</a
                    >
                  </div>
                </li>
              </ol>
            </section>
            <p>
              When you make a <abbr title="Pull request">PR</abbr>, the assignee
              will now be set automatically, and list of reviewers displayed.
              For details see
              <a
                href="https://github.com/marketplace/actions/auto-assign-action"
                >Auto Assign Action</a
              >.
            </p>
          </section>
        </section>
      </article>
    </main>
    <footer id="footer">
      <nav aria-label="Primary">
        <a href="/src/index.html">Home</a>
        <a href="/src/people.html">People</a>
        <a href="/src/code.html">Code</a>
        <a href="/src/sitemap.html#writing">Writing</a>
        <a href="https://workshops.people-and-code.com">Workshops</a>
      </nav>
      <div class="copyright">
        &copy; 2025 People and Code. All rights reserved.
      </div>
    </footer>
  </body>
</html>
